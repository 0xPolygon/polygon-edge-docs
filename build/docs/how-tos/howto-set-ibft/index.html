<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Polygon SDK Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Polygon SDK Blog Atom Feed"><title data-react-helmet="true">How to set up IBFT | Polygon SDK</title><meta data-react-helmet="true" property="og:url" content="https://elegant-nightingale-894b88.netlify.app/docs/how-tos/howto-set-ibft"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to set up IBFT | Polygon SDK"><meta data-react-helmet="true" name="description" content="Useful information"><meta data-react-helmet="true" property="og:description" content="Useful information"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon-32x32.png"><link data-react-helmet="true" rel="canonical" href="https://elegant-nightingale-894b88.netlify.app/docs/how-tos/howto-set-ibft"><link data-react-helmet="true" rel="alternate" href="https://elegant-nightingale-894b88.netlify.app/docs/how-tos/howto-set-ibft" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://elegant-nightingale-894b88.netlify.app/docs/how-tos/howto-set-ibft" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b06b8716.css">
<link rel="preload" href="/assets/js/styles.0d8ad355.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.779a1557.js" as="script">
<link rel="preload" href="/assets/js/main.d71e226e.js" as="script">
<link rel="preload" href="/assets/js/1.6aff0b16.js" as="script">
<link rel="preload" href="/assets/js/2.38ea1b0e.js" as="script">
<link rel="preload" href="/assets/js/29.26f1692f.js" as="script">
<link rel="preload" href="/assets/js/31.eb0216cf.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.4bbd4f0a.js" as="script">
<link rel="preload" href="/assets/js/17896441.7fffe48c.js" as="script">
<link rel="preload" href="/assets/js/f083a92c.4eabc90c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/overview"><img src="/img/logo.svg" alt="Polygon SDK Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Polygon SDK Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Polygon SDK</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Develop</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--checked react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" checked="" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/overview"><img src="/img/logo.svg" alt="Polygon SDK Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Polygon SDK Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Polygon SDK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview">Develop</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/docs/overview"><img src="/img/logo.svg" alt="Polygon SDK Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.svg" alt="Polygon SDK Logo" class="themedImage_1VuW themedImage--dark_hz6m"><strong>Polygon SDK</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cli-commands">CLI Commands</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How-tos</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/how-tos/howto-set-ibft">How to set up IBFT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how-tos/howto-query-operator">How to query operator information</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how-tos/howto-query-json-rpc">How to query JSON RPC endpoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how-tos/howto-report-bug">How to report an issue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how-tos/howto-propose-feature">How to propose a new feature</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/architecture">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/blockchain">Blockchain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/minimal">Minimal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/networking">Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/state">State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/txpool">TxPool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/json-rpc">JSON RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/consensus">Consensus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/types">Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/modules/other-modules">Other modules</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/ethereum-state">State in Ethereum</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">How to set up IBFT</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="useful-information"></a>Useful information<a class="hash-link" href="#useful-information" title="Direct link to heading">#</a></h2><p>For a better understanding of some commands that will be used later on, it is recommended that you go over
the <a href="/docs/cli-commands">CLI Commands</a>, before diving deeper into the examples below.</p><p>The main Polygon SDK version is located on the <strong>develop</strong> branch, and is considered to be a stable version of the SDK,
while other branches are mid-feature implementations.</p><p>The technologies mentioned in the examples are covered in their corresponding modules in the documentation.</p><p>The how-to guides assume you have a working installation of Golang running on your machine, with Go added to the $PATH
variable.</p><p>This example will go over the basics of starting multiple nodes, and demonstrate how the nodes interact between each
other.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-1-initialize-data-folders-for-ibft"></a>Step 1: Initialize data folders for IBFT<a class="hash-link" href="#step-1-initialize-data-folders-for-ibft" title="Direct link to heading">#</a></h2><p>In order to get up and running with IBFT, you need to initialize some data folders:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go ibft init test-chain-1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go ibft init test-chain-2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go ibft init test-chain-3</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go ibft init test-chain-4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Each of these commands will print <a href="https://docs.libp2p.io/concepts/peer-id/" target="_blank" rel="noopener noreferrer">node ID</a>. You will need that information for the next step.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-2-using-the-clients-as-bootstrap-nodes"></a>Step 2: Using the clients as bootstrap nodes<a class="hash-link" href="#step-2-using-the-clients-as-bootstrap-nodes" title="Direct link to heading">#</a></h2><p>To start the clients as bootstrap nodes you will need to specify their address schemes by encoding them
into a <a href="https://docs.libp2p.io/concepts/addressing/" target="_blank" rel="noopener noreferrer">multiaddr format</a>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">ip4</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">ip_address</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">tcp</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">port</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">p2p</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">node_id</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To do so, you should specify the IP address and the port for each of the clients,
and append the node ID (from the previous step) to it. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">ip4</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token number" style="color:rgb(247, 140, 108)">127.0</span><span class="token number" style="color:rgb(247, 140, 108)">.0</span><span class="token number" style="color:rgb(247, 140, 108)">.1</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">tcp</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token number" style="color:rgb(247, 140, 108)">10001</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">p2p</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token plain">Uiu2HAmJxxH1tScDX2rLGSU9exnuvZKNM9SoK3v315azp68DLPW</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-3-generate-an-ibft-genesis-file-with-the-previous-accounts-as-validators"></a>Step 3: Generate an IBFT genesis file with the previous accounts as validators<a class="hash-link" href="#step-3-generate-an-ibft-genesis-file-with-the-previous-accounts-as-validators" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go genesis --consensus ibft --ibft-validators-prefix-path test-chain- --bootnode /ip4/127.0.0.1/tcp/10001/p2p/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">node_id_</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">1</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --bootnode /ip4/127.0.0.1/tcp/20001/p2p/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">node_id_</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">2</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --bootnode /ip4/127.0.0.1/tcp/30001/p2p/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">node_id_</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">3</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --bootnode /ip4/127.0.0.1/tcp/40001/p2p/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">node_id_</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">4</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>What this command does:</p><ul><li>The <em>consensus</em> flag sets the consensus to IBFT</li><li>The <em>--ibft-validators-prefix-path</em> sets the prefix folder path to the one specified which IBFT in Polygon SDK can
use. This directory is used to house the <strong>consensus</strong> folder, where the validator&#x27;s private key is kept. The
validator&#x27;s PK is needed in order to build the genesis file - the initial list of bootstrap nodes.</li><li>The <em>--bootnode</em> sets the bootnodes addresses that will be used to allow a new node to discover other nodes in the network through them.
Since we are starting a new network, and it only consists of these nodes, we enter their <code>multiaddr</code> addresses.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-4-run-all-the-clients"></a>Step 4: Run all the clients<a class="hash-link" href="#step-4-run-all-the-clients" title="Direct link to heading">#</a></h2><p>To run the <strong>first</strong> client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go server --data-dir ./test-chain-1 --chain genesis.json --grpc :10000 --libp2p :10001 --jsonrpc :10002 --seal</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To run the <strong>second</strong> client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go server --data-dir ./test-chain-2 --chain genesis.json --grpc :20000 --libp2p :20001 --jsonrpc :20002 --seal</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To run the <strong>third</strong> client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go server --data-dir ./test-chain-3 --chain genesis.json --grpc :30000 --libp2p :30001 --jsonrpc :30002 --seal</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To run the <strong>fourth</strong> client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go server --data-dir ./test-chain-4 --chain genesis.json --grpc :40000 --libp2p :40001 --jsonrpc :40002 --seal</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To briefly go over what has been done so far:</p><ul><li>The directory for the client data has been specified to be <strong>./test-chain-*</strong></li><li>The GRPC server has been started on ports <strong>10000</strong>, <strong>20000</strong>, <strong>30000</strong> and <strong>40000</strong>, respectively</li><li>The libp2p server has been started on ports <strong>10001</strong>, <strong>20001</strong>, <strong>30001</strong> and <strong>40001</strong>, respectively</li><li>The JSON-RPC server has been started on ports <strong>10002</strong>, <strong>20002</strong>, <strong>30002</strong> and <strong>40002</strong>, respectively</li><li>The <em>seal</em> flag means that the node being started is going to participate in block sealing</li><li>The <em>chain</em> flag specifies which genesis file should be used for chain configuration</li></ul><p>The structure of the genesis file is covered in the <a href="/docs/cli-commands">CLI Commands</a> section.</p><p>After running the previous commands, you have set up a 4 client IBFT network, capable of sealing blocks and recovering
from node failure.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-5-monitor-node-activity"></a>Step 5: Monitor node activity<a class="hash-link" href="#step-5-monitor-node-activity" title="Direct link to heading">#</a></h2><p>Now that you&#x27;ve set up at least 1 running client, you can monitor the information that passes through, such as forks and
reorgs, using the <strong>monitor</strong> command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go run main.go monitor --grpc-address localhost:20000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The above command will start monitoring blockchain event activity on the client that&#x27;s running on port <em>20000</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="networking-on-cloud-providers"></a>Networking on Cloud providers<a class="hash-link" href="#networking-on-cloud-providers" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Most cloud providers don&#x27;t expose the IP addresses (especially public ones) as a direct network interface on your VM but rather setup an invisible NAT proxy.</p></div></div><p>To allow the nodes to connect to each other in this case you would need to listen on the <code>0.0.0.0</code> IP address to bind on all interfaces, but you would still need to specify the IP address which other nodes can use to connect to your instance. This is achieved using the <code>--nat</code> argument where you can specify your external IP.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h3><p>The associated IP address that you wish to listen on is <code>192.0.2.1</code>, but it is not directly bound to any of your network interfaces.</p><p>To allow the nodes to connect you would pass the following parameters:</p><p><code>go run main.go ... --libp2p 0.0.0.0:10001 --nat 192.0.2.1</code></p><p>This would make your node listen on all interfaces, but also make it aware that the clients are connecting to it through the specified <code>--nat</code> address.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/0xPolygon/polygon-sdk-docs/docs/how-tos/howto-set-ibft.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/cli-commands"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« CLI Commands</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/how-tos/howto-query-operator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to query operator information »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#useful-information" class="table-of-contents__link">Useful information</a></li><li><a href="#step-1-initialize-data-folders-for-ibft" class="table-of-contents__link">Step 1: Initialize data folders for IBFT</a></li><li><a href="#step-2-using-the-clients-as-bootstrap-nodes" class="table-of-contents__link">Step 2: Using the clients as bootstrap nodes</a></li><li><a href="#step-3-generate-an-ibft-genesis-file-with-the-previous-accounts-as-validators" class="table-of-contents__link">Step 3: Generate an IBFT genesis file with the previous accounts as validators</a></li><li><a href="#step-4-run-all-the-clients" class="table-of-contents__link">Step 4: Run all the clients</a></li><li><a href="#step-5-monitor-node-activity" class="table-of-contents__link">Step 5: Monitor node activity</a></li><li><a href="#networking-on-cloud-providers" class="table-of-contents__link">Networking on Cloud providers</a><ul><li><a href="#example" class="table-of-contents__link">Example</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Made with ❤ by the humans at <a href="https://mvpworkshop.co">MVP Workshop</a></div></div></div></footer></div>
<script src="/assets/js/styles.0d8ad355.js"></script>
<script src="/assets/js/runtime~main.779a1557.js"></script>
<script src="/assets/js/main.d71e226e.js"></script>
<script src="/assets/js/1.6aff0b16.js"></script>
<script src="/assets/js/2.38ea1b0e.js"></script>
<script src="/assets/js/29.26f1692f.js"></script>
<script src="/assets/js/31.eb0216cf.js"></script>
<script src="/assets/js/935f2afb.4bbd4f0a.js"></script>
<script src="/assets/js/17896441.7fffe48c.js"></script>
<script src="/assets/js/f083a92c.4eabc90c.js"></script>
</body>
</html>